{% extends 'textbook/base.html' %}
{% load static %}


{% block title %}–ì–ª–∞–≤–Ω–∞—è - CodeMaster{% endblock %}

{% block content %}
<div class="fade-in">
    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
    <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <h1 style="font-size: 2.5rem; margin-bottom: 1rem;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ–Ω–ª–∞–π–Ω —É—á–µ–±–Ω–∏–∫! üë®‚Äçüíª</h1>
        <p style="font-size: 1.2rem; opacity: 0.9;">
            –ò–∑—É—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –ª–µ–∫—Ü–∏–π, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π –∏ —Ç–µ—Å—Ç–æ–≤.
        </p>
    </div>

    <!-- –¢–µ—Å—Ç—ã –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ -->
    <div class="card">
        <h2><i class="fas fa-clipboard-check"></i> –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
        <div style="margin-top: 1.5rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem; background: #f0f9ff; border-radius: 10px; margin-bottom: 1rem;">
                <div>
                    <h3 style="color: var(--primary);">–¢–µ—Å—Ç: –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1</h3>
                    <p style="color: var(--gray); margin: 5px 0;">4 –≤–æ–ø—Ä–æ—Å–∞ ¬∑ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</p>
                </div>
                <a href="{% url 'tests' %}" class="btn" onclick="startTestFromHome(1)">
                    <i class="fas fa-pencil-alt"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç
                </a>
            </div>
            
            
        </div>
    </div>
    
    <!-- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø -->
    <div class="card">
        <h2><i class="fas fa-bolt"></i> –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
            <a href="{% url 'lectures' %}" style="text-decoration: none;">
                <div style="text-align: center; padding: 1.5rem; background: var(--light); border-radius: 10px; transition: all 0.3s; cursor: pointer;">
                    <div style="font-size: 2rem; color: var(--primary); margin-bottom: 0.5rem;">
                        <i class="fas fa-book"></i>
                    </div>
                    <div style="font-weight: bold; color: var(--dark);">–õ–µ–∫—Ü–∏–∏</div>
                </div>
            </a>
            
            <a href="{% url 'tests' %}" style="text-decoration: none;">
                <div style="text-align: center; padding: 1.5rem; background: var(--light); border-radius: 10px; transition: all 0.3s; cursor: pointer;">
                    <div style="font-size: 2rem; color: var(--success); margin-bottom: 0.5rem;">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                    <div style="font-weight: bold; color: var(--dark);">–¢–µ—Å—Ç—ã</div>
                </div>
            </a>
            
            <a href="#" style="text-decoration: none;" onclick="window.location.href='#';">
                <div style="text-align: center; padding: 1.5rem; background: var(--light); border-radius: 10px; transition: all 0.3s; cursor: pointer;">
                    <div style="font-size: 2rem; color: var(--accent); margin-bottom: 0.5rem;">
                        <i class="fas fa-code"></i>
                    </div>
                    <div style="font-weight: bold; color: var(--dark);">–ü—Ä–∞–∫—Ç–∏–∫–∞</div>
                </div>
            </a>
            
            <a href="{% url 'lab' %}" style="text-decoration: none;">
                <div style="text-align: center; padding: 1.5rem; background: var(--light); border-radius: 10px; transition: all 0.3s; cursor: pointer;">
                    <div style="font-size: 2rem; color: var(--warning); margin-bottom: 0.5rem;">
                        <i class="fas fa-flask"></i>
                    </div>
                    <div style="font-weight: bold; color: var(--dark);">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ</div>
                </div>
            </a>
        </div>
    </div>
</div>

<script>
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('course-progress').style.width = '35%';
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    function startTestFromHome(testId) {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID —Ç–µ—Å—Ç–∞ –≤ localStorage
        localStorage.setItem('startTestId', testId);
        
        // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–µ—Å—Ç–æ–≤
        window.location.href = "{% url 'tests' %}";
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–µ—Å—Ç–æ–≤, –Ω—É–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç
    if (window.location.pathname.includes('/tests/')) {
        document.addEventListener('DOMContentLoaded', function() {
            const testId = localStorage.getItem('startTestId');
            if (testId && typeof startTest === 'function') {
                // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å
                setTimeout(() => {
                    startTest(parseInt(testId));
                    // –û—á–∏—â–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π ID
                    localStorage.removeItem('startTestId');
                }, 500);
            }
        });
    }
</script>
{% endblock %}